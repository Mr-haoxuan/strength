该源码位于 mobx/src/api/observable 中

文件最终导出

```javascript
export var observable: IObservableFactory = assign(
  createObservable,
  observableFactories
)
```

接下来分别看 createObservable 和 observableFactories

### createObservable

```javascript

const OBSERVABLE = "observable"

const getDescriptor = Object.getOwnPropertyDescriptor
const defineProperty = Object.defineProperty

const mobxDecoratorsSymbol = Symbol("mobx-decoratorators")

function isStringish(value: any): value is string | number | symbol {
    const t = typeof value
    switch (t) {
        case "string":
        case "symbol":
        case "number":
            return true
    }
    return false
}

function addHiddenProp(object: any, propName: PropertyKey, value: any) {
    defineProperty(object, propName, {
        enumerable: false,
        writable: true,
        configurable: true,
        value
    })
}

function storeDecorator(
    target: any,
    property: PropertyKey,
    type: Annotation["annotationType_"],
    arg_?: any
) {
    const desc = getDescriptor(target, mobxDecoratorsSymbol)
    let map: any
    if (desc) {
        map = desc.value
    } else {
        map = {}
        addHiddenProp(target, mobxDecoratorsSymbol, map)
    }
    map[property] = { annotationType_: type, arg_ } as Annotation
}

function createObservable(v: any, arg2?: any, arg3?: any) {
    // 如果被监听的是基本数据类型 string number symbol
    if (isStringish(arg2)) {
        storeDecorator(v, arg2, OBSERVABLE)
        return
    }

    // it is an observable already, done
    if (isObservable(v)) return v

    // something that can be converted and mutated?
    const res = isPlainObject(v)
        ? observable.object(v, arg2, arg3)
        : Array.isArray(v)
        ? observable.array(v, arg2)
        : isES6Map(v)
        ? observable.map(v, arg2)
        : isES6Set(v)
        ? observable.set(v, arg2)
        : v

    // this value could be converted to a new observable data structure, return it
    if (res !== v) return res
    return observable.box(v)
}

```
